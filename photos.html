<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>蘿嵐摄影集 - 复古画廊</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome图标库 -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体（复古色系） -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // 复古主色调
                        sepia: {
                            100: '#F5F0E6', // 米色背景
                            200: '#E8DCC8', // 浅棕
                            300: '#D4B996', // 棕褐色
                            400: '#B88A5A', // 复古棕
                            500: '#8B5A2B', // 深棕
                            600: '#6B4423', // 深褐色
                        },
                        accent: {
                            red: '#9E2A2B', // 复古红
                            green: '#4A5D23', // 复古绿
                        }
                    },
                    fontFamily: {
                        vintage: ['"Courier New"', '"Georgia"', 'serif']
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .photo-shadow {
                box-shadow: 0 4px 12px rgba(107, 68, 35, 0.2);
            }
            .vintage-border {
                border: 10px solid white;
                box-shadow: 0 0 0 1px #D4B996, 0 4px 8px rgba(0, 0, 0, 0.15);
            }
        }
    </style>
    
    <style>
        /* 全局样式 */
        body {
            background-color: #F5F0E6;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23d4b996' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            overflow-x: hidden;
        }
        
        /* 图片画廊样式 */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            padding: 1rem;
        }
        
        /* 图片容器样式 */
        .photo-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s ease;
        }
        
        /* 图片悬停效果 */
        .photo-item:hover {
            transform: scale(1.03);
        }
        
        .photo-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: all 0.5s ease;
            filter: sepia(20%);
        }
        
        .photo-item:hover img {
            filter: sepia(5%);
        }
        
        /* 图片查看器模态框 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 2rem;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }
        
        .modal-image {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
        }
        
        /* 下载按钮 */
        .download-btn {
            position: absolute;
            bottom: -50px;
            left: 20px;
            background-color: #9E2A2B;
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .modal-content:hover .download-btn {
            bottom: 20px;
        }
        
        .download-btn:hover {
            background-color: #7a2020;
            transform: scale(1.05);
        }
        
        /* 关闭按钮 */
        .close-btn {
            position: absolute;
            top: -40px;
            right: -40px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            transform: scale(1.1) rotate(90deg);
        }
        
        /* 导航按钮 */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .prev-btn {
            left: -80px;
        }
        
        .next-btn {
            right: -80px;
        }
        
        .modal-content:hover .prev-btn {
            left: -30px;
        }
        
        .modal-content:hover .next-btn {
            right: -30px;
        }
        
        .nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-50%) scale(1.1);
        }
        
        /* 侧边栏样式 */
        .sidebar {
            background-color: #E8DCC8;
            border-right: 1px solid #D4B996;
        }
        
        /* 加载动画 */
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #F5F0E6;
            border-bottom-color: #8B5A2B;
            border-radius: 50%;
            animation: rotation 1s linear infinite;
        }
        
        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body class="font-vintage text-sepia-600">
    <!-- 左侧侧边栏导航 -->
    <div class="fixed top-0 left-0 h-full w-64 sidebar shadow-md z-40 flex flex-col">
        <div class="p-6 text-center border-b border-sepia-200">
            <h2 class="text-xl font-bold text-sepia-500">导航菜单</h2>
        </div>
        
        <div class="flex-1 overflow-y-auto py-4 px-2">
            <!-- 导航链接 -->
            <a href="index.html" class="flex items-center p-3 m-2 rounded-2xl hover:bg-sepia-100 transition-all">
                <i class="fa fa-home w-8 text-center"></i>
                <span>首页</span>
            </a>
            
            <a href="passage.html" class="flex items-center p-3 m-2 rounded-2xl hover:bg-sepia-100 transition-all">
                <i class="fa fa-book w-8 text-center"></i>
                <span>茗沐大陆记事簿</span>
            </a>
            
            <a href="note.html" class="flex items-center p-3 m-2 rounded-2xl hover:bg-sepia-100 transition-all">
                <i class="fa fa-sticky-note w-8 text-center"></i>
                <span>蘿嵐随记簿</span>
            </a>
            
            <a href="music.html" class="flex items-center p-3 m-2 rounded-2xl hover:bg-sepia-100 transition-all">
                <i class="fa fa-headphones w-8 text-center"></i>
                <span>猫之都音乐馆</span>
            </a>
            
            <a href="photos.html" class="flex items-center p-3 m-2 rounded-2xl bg-sepia-300 bg-opacity-30 text-sepia-600 font-medium">
                <i class="fa fa-camera w-8 text-center"></i>
                <span>蘿嵐摄影集</span>
            </a>
        </div>
        
        <div class="p-4 border-t border-sepia-200">
            <p class="text-sm text-center text-sepia-500">复古画廊 · 珍藏回忆</p>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="min-h-screen pt-16 pb-20 ml-64 px-4 md:px-8 lg:px-16">
        <!-- 页面标题 -->
        <div class="text-center mb-12 mt-8">
            <h1 class="text-4xl md:text-5xl font-bold text-sepia-600 mb-4">蘿嵐摄影集</h1>
            <p class="text-sepia-500 max-w-2xl mx-auto">捕捉生活中的美好瞬间，用复古色调珍藏每一段回忆</p>
            <div class="w-32 h-1 bg-accent-red mx-auto mt-6 rounded-full"></div>
        </div>
        
        <!-- 图片加载动画 -->
        <div id="loader" class="loader mx-auto my-16"></div>
        
        <!-- 图片画廊 -->
        <div id="photo-gallery" class="photo-gallery hidden">
            <!-- 图片将通过JavaScript动态加载 -->
        </div>
        
        <!-- 空状态提示 -->
        <div id="empty-state" class="text-center py-20 hidden">
            <i class="fa fa-camera text-6xl text-sepia-300 mb-4"></i>
            <p class="text-sepia-500 text-xl">暂无照片可展示</p>
        </div>
    </main>
    
    <!-- 图片查看模态框 -->
    <div id="photo-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <button class="nav-btn prev-btn">
                <i class="fa fa-chevron-left"></i>
            </button>
            <img id="modal-image" class="modal-image vintage-border" src="" alt="大图预览">
            <button class="nav-btn next-btn">
                <i class="fa fa-chevron-right"></i>
            </button>
            <button id="download-btn" class="download-btn">
                <i class="fa fa-download"></i>
                <span>下载图片</span>
            </button>
        </div>
    </div>
    
    <!-- 页脚 -->
    <footer class="bg-sepia-200 bg-opacity-50 py-6 rounded-t-3xl mt-12 ml-64">
        <div class="text-center text-sepia-500 text-sm">
            <p>© 2023 蘿嵐摄影集 | 复古风格画廊</p>
        </div>
    </footer>

    <script>
    // 图片数据 - 在实际应用中，这些图片会从static/photos目录自动加载
     // 图片数据 - 使用项目中实际存在的图片文件
    const photos = [
      { name: "000002.JPG", alt: "摄影作品2" },
      { name: "000003.JPG", alt: "摄影作品3" },
      { name: "000004.JPG", alt: "摄影作品4" },
      { name: "000005.JPG", alt: "摄影作品5" },
      { name: "000006.JPG", alt: "摄影作品6" },
      { name: "000007.JPG", alt: "摄影作品7" },
      { name: "000008.JPG", alt: "摄影作品8" },
      { name: "000009.JPG", alt: "摄影作品9" },
      { name: "000010.JPG", alt: "摄影作品10" },
      { name: "000011.JPG", alt: "摄影作品11" },
      { name: "000012.JPG", alt: "摄影作品12" },
      { name: "000013.JPG", alt: "摄影作品13" },
      { name: "000014.JPG", alt: "摄影作品14" },
      { name: "000015.JPG", alt: "摄影作品15" },
      { name: "000016.JPG", alt: "摄影作品16" },
      { name: "000017.JPG", alt: "摄影作品17" },
      { name: "000018.JPG", alt: "摄影作品18" },
      { name: "000019.JPG", alt: "摄影作品19" },
      { name: "000020.JPG", alt: "摄影作品20" },
      { name: "000021.JPG", alt: "摄影作品21" },
      { name: "000022.JPG", alt: "摄影作品22" },
      { name: "000023.JPG", alt: "摄影作品23" },
      { name: "000024.JPG", alt: "摄影作品24" },
      { name: "000025.JPG", alt: "摄影作品25" },
      { name: "000026.JPG", alt: "摄影作品26" },
      { name: "000027.JPG", alt: "摄影作品27" },
      { name: "000028.JPG", alt: "摄影作品28" },
      { name: "000029.JPG", alt: "摄影作品29" },
      { name: "000030.JPG", alt: "摄影作品30" },
      { name: "000031.JPG", alt: "摄影作品31" },
      { name: "000032.JPG", alt: "摄影作品32" },
      { name: "000033.JPG", alt: "摄影作品33" },
      { name: "000034.JPG", alt: "摄影作品34" },
      { name: "000035.JPG", alt: "摄影作品35" },
      { name: "000036.JPG", alt: "摄影作品36" },
      { name: "000038.JPG", alt: "摄影作品38" }
];
        
        // 当前查看的图片索引
        let currentPhotoIndex = 0;
        
        // DOM元素
        const gallery = document.getElementById('photo-gallery');
        const modal = document.getElementById('photo-modal');
        const modalImage = document.getElementById('modal-image');
        const closeBtn = document.querySelector('.close-btn');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const downloadBtn = document.getElementById('download-btn');
        const loader = document.getElementById('loader');
        const emptyState = document.getElementById('empty-state');
        
        // 初始化画廊
        function initGallery() {
            // 模拟加载延迟
            setTimeout(() => {
                loader.classList.add('hidden');
                
                if (photos.length === 0) {
                    emptyState.classList.remove('hidden');
                    return;
                }
                
                gallery.classList.remove('hidden');
                
                // 加载所有图片
                photos.forEach((photo, index) => {
                    const photoPath = `static/photos/${photo.name}`;
                    
                    const photoItem = document.createElement('div');
                    photoItem.className = 'photo-item vintage-border';
                    photoItem.dataset.index = index;
                    
                    const img = document.createElement('img');
                    img.src = photoPath;
                    img.alt = photo.alt;
                    img.loading = 'lazy';
                    
                    photoItem.appendChild(img);
                    gallery.appendChild(photoItem);
                    
                    // 双击打开图片查看器
                    photoItem.addEventListener('dblclick', () => {
                        openPhotoViewer(index);
                    });
                });
            }, 1000);
        }
        
        // 打开图片查看器
        function openPhotoViewer(index) {
            currentPhotoIndex = index;
            const photo = photos[currentPhotoIndex];
            modalImage.src = `static/photos/${photo.name}`;
            modalImage.alt = photo.alt;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // 防止背景滚动
        }
        
        // 关闭图片查看器
        function closePhotoViewer() {
            modal.classList.remove('active');
            document.body.style.overflow = ''; // 恢复滚动
        }
        
        // 查看上一张图片
        function prevPhoto() {
            currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
            const photo = photos[currentPhotoIndex];
            modalImage.src = `static/photos/${photo.name}`;
            modalImage.alt = photo.alt;
        }
        
        // 查看下一张图片
        function nextPhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
            const photo = photos[currentPhotoIndex];
            modalImage.src = `static/photos/${photo.name}`;
            modalImage.alt = photo.alt;
        }
        
        // 下载当前图片
        function downloadCurrentPhoto() {
            const photo = photos[currentPhotoIndex];
            const photoPath = `static/photos/${photo.name}`;
            
            // 创建下载链接
            const downloadLink = document.createElement('a');
            downloadLink.href = photoPath;
            downloadLink.download = photo.name;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        }
        
        // 事件监听
        closeBtn.addEventListener('click', closePhotoViewer);
        prevBtn.addEventListener('click', prevPhoto);
        nextBtn.addEventListener('click', nextPhoto);
        downloadBtn.addEventListener('click', downloadCurrentPhoto);
        
        // 点击模态框背景关闭
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closePhotoViewer();
            }
        });
        
        // 键盘导航
        document.addEventListener('keydown', (e) => {
            if (!modal.classList.contains('active')) return;
            
            if (e.key === 'Escape') {
                closePhotoViewer();
            } else if (e.key === 'ArrowLeft') {
                prevPhoto();
            } else if (e.key === 'ArrowRight') {
                nextPhoto();
            } else if (e.key === 'd' || e.key === 'D') {
                downloadCurrentPhoto();
            }
        });
        
        // 移动端适配 - 点击显示侧边栏
        if (window.innerWidth < 768) {
            const sidebar = document.querySelector('.sidebar');
            sidebar.style.transform = 'translateX(-100%)';
            
            const menuToggle = document.createElement('div');
            menuToggle.className = 'fixed top-6 left-6 z-30 bg-sepia-200 p-3 rounded-full shadow-lg cursor-pointer';
            menuToggle.innerHTML = '<i class="fa fa-bars text-sepia-600"></i>';
            document.body.appendChild(menuToggle);
            
            menuToggle.addEventListener('click', () => {
                sidebar.style.transform = sidebar.style.transform === 'translateX(0px)' ? 'translateX(-100%)' : 'translateX(0)';
            });
            
            // 调整主内容区和页脚
            document.querySelector('main').style.marginLeft = '0';
            document.querySelector('footer').style.marginLeft = '0';
        }
        
        // 初始化画廊
        initGallery();
    </script>
</body>
</html>
